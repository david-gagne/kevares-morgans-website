---
---

<script>
  // Step 1. Define element variables
  let carouselItems = document.querySelector(".carousel-items");
  let leftCarouselButton = document.getElementById("carousel-button-left");
  let rightCarouselButton = document.getElementById("carousel-button-right");

  // Step 2. Loop over carousel items.
  for (let i = 0; i < carouselItems.children.length; i++) {
    // Step 3. Set left carousel button state to inactive if first carousel item is displayed.
    if (carouselItems.children[i] === carouselItems.children[0]) {
      leftCarouselButton.classList.add("inactive");
    }
  }

  // Step 4. Animate carousel items to exit left when user clicks right button.
  rightCarouselButton.addEventListener("click", function (event) {
    if (carouselItems.children[0].classList.contains("flex")) {
      carouselItems.children[0].children[0].classList.add("leave-left");
      leftCarouselButton.classList.remove("inactive");

      setTimeout(() => {
        carouselItems.children[0].classList.replace("flex", "dn");
        carouselItems.children[1].classList.replace("dn", "flex");
        carouselItems.children[0].children[0].classList.remove("leave-left");
      }, 320);
    } else if (carouselItems.children[1].classList.contains("flex")) {
      carouselItems.children[1].children[0].classList.add("leave-left");

      setTimeout(() => {
        carouselItems.children[1].classList.replace("flex", "dn");
        carouselItems.children[2].classList.replace("dn", "flex");
        carouselItems.children[1].children[0].classList.remove("leave-left");
      }, 320);
    } else if (carouselItems.children[2].classList.contains("flex")) {
      carouselItems.children[2].children[0].classList.add("leave-left");
      rightCarouselButton.classList.add("inactive");

      setTimeout(() => {
        carouselItems.children[2].classList.replace("flex", "dn");
        carouselItems.children[3].classList.replace("dn", "flex");
        carouselItems.children[2].children[0].classList.remove("leave-left");
      }, 320);
    }
  });

  // Step 5. Animate carousel items to enter from left when user clicks left button.
  leftCarouselButton.addEventListener("click", function (event) {
    if (carouselItems.children[3].classList.contains("flex")) {
      carouselItems.children[3].children[0].classList.add("leave-right");
      rightCarouselButton.classList.remove("inactive");

      setTimeout(() => {
        carouselItems.children[3].classList.replace("flex", "dn");
        carouselItems.children[2].classList.replace("dn", "flex");
        carouselItems.children[3].children[0].classList.remove("leave-right");
      }, 320);
    } else if (carouselItems.children[2].classList.contains("flex")) {
      carouselItems.children[2].children[0].classList.add("leave-right");

      setTimeout(() => {
        carouselItems.children[2].classList.replace("flex", "dn");
        carouselItems.children[1].classList.replace("dn", "flex");
        carouselItems.children[2].children[0].classList.remove("leave-right");
      }, 320);
    } else if (carouselItems.children[1].classList.contains("flex")) {
      carouselItems.children[1].children[0].classList.add("leave-right");
      leftCarouselButton.classList.add("inactive");

      setTimeout(() => {
        carouselItems.children[1].classList.replace("flex", "dn");
        carouselItems.children[0].classList.replace("dn", "flex");
        carouselItems.children[1].children[0].classList.remove("leave-right");
      }, 320);
    }
  });
</script>

<style>
  button:nth-child(1) {
    background-color: var(--primary);
    border-bottom-right-radius: 0;
  }

  button:nth-child(2) {
    background-color: var(--primary);
    border-bottom-left-radius: 0;
  }

  .inactive {
    cursor: default !important;
    opacity: 0.5;
  }
</style>

<div class="w4 center flex justify-center items-center h3">
  <button
    id="carousel-button-left"
    class="w2 h2 br2 bn flex items-center justify-center mt3 mh3 pointer"
  >
    <i class="bi bi-chevron-left white"></i>
  </button>
  <button
    id="carousel-button-right"
    class="w2 h2 br2 bn flex items-center justify-center mt3 mh3 pointer"
  >
    <i class="bi bi-chevron-right white"></i>
  </button>
</div>
